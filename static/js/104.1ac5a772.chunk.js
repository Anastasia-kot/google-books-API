"use strict";(self.webpackChunkgooglebooks_mobx=self.webpackChunkgooglebooks_mobx||[]).push([[104],{104:function(e,r,t){t.r(r),t.d(r,{default:function(){return _}});var o=t(439),n="BookPage_bookPageWrapper__lsphp",s="BookPage_bookCoverWrapper__3hyBy",a="BookPage_bookCover__OL3IH",i="BookPage_bookInfoWrapper__9k2xD",c="BookPage_bookCategory__a8nnB",l="BookPage_bookTitle__6keVd",u="BookPage_bookPublisher__LCWR+",h="BookPage_bookDescription__RW0xr",d=t(791),p=t(689),v=t(514),g=t(381),m=t(672),k=t(951),x=t(184),_=(0,m.Pi)((function(){var e,r,t,m,_=(0,p.s0)(),f=(0,p.UO)().id,b=k.Z.books,j=(0,d.useState)(null),y=(0,o.Z)(j,2),Z=y[0],P=y[1];return(0,d.useEffect)((function(){f&&b[+f]?P(b[+f]):_("/")}),[f,b,_]),(0,x.jsx)(x.Fragment,{children:Z?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(g.Z,{}),(0,x.jsxs)("div",{className:n,children:[(0,x.jsx)("div",{className:s,children:(0,x.jsx)("img",{className:a,alt:"Book cover",src:null!==Z&&void 0!==Z&&null!==(e=Z.imageLinks)&&void 0!==e&&e.thumbnail?Z.imageLinks.thumbnail:"https://img.freepik.com/premium-vector/blank-book-cover_134452-8.jpg"})}),(0,x.jsxs)("div",{className:i,children:[(0,x.jsx)("div",{className:c,children:(null===Z||void 0===Z||null===(r=Z.categories)||void 0===r?void 0:r.length)>0&&(null===Z||void 0===Z?void 0:Z.categories.join("/ "))}),(0,x.jsxs)("div",{className:l,children:[(null===Z||void 0===Z||null===(t=Z.authors)||void 0===t?void 0:t.length)>0&&(null===Z||void 0===Z?void 0:Z.authors.join(", ")),(null===Z||void 0===Z||null===(m=Z.authors)||void 0===m?void 0:m.length)>0&&(null===Z||void 0===Z?void 0:Z.title)&&"  -  ",null!==Z&&void 0!==Z&&Z.title?null===Z||void 0===Z?void 0:Z.title:""]}),(0,x.jsx)("div",{className:u,children:Z.publisher?Z.publisher:"no publisher"}),(0,x.jsx)("div",{className:h,children:null!==Z&&void 0!==Z&&Z.description?Z.description:"no description"})]})]})]}):(0,x.jsx)(v.Z,{})})}))},951:function(e,r,t){t.d(r,{Z:function(){return v}});var o=t(433),n=t(165),s=t(861),a=t(671),i=t(144),c=t(98),l=t(243),u="&key=AIzaSyCuPJFww6YGX7RzIF1sPyo7hDy9Qe09Uqw";function h(){return d.apply(this,arguments)}function d(){return d=(0,s.Z)((0,n.Z)().mark((function e(){var r,t,o,s,a,i,c,h,d=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>0&&void 0!==d[0]?d[0]:"computers",o=d.length>2&&void 0!==d[2]?d[2]:"newest",a="",(t=d.length>1&&void 0!==d[1]?d[1]:"")&&"all"!==t&&(a="+subject:"+t),i="",(s=d.length>3?d[3]:void 0)&&(i="&startIndex="+30*(s+1)),e.prev=8,e.next=11,l.Z.get("https://www.googleapis.com/books/v1/volumes?q=".concat(r).concat(a,"&orderBy=").concat(o,"&maxResults=30").concat(i).concat(u),{headers:{Accept:"application/json"}});case 11:return c=e.sent,h=c.data,e.abrupt("return",h);case 16:if(e.prev=16,e.t0=e.catch(8),!l.Z.isAxiosError(e.t0)){e.next=23;break}return console.log("error message: ",e.t0.message),e.abrupt("return",e.t0.message);case 23:return console.log("unexpected error: ",e.t0),e.abrupt("return","An unexpected error occurred");case 25:case"end":return e.stop()}}),e,null,[[8,16]])}))),d.apply(this,arguments)}var p=function(){function e(){(0,a.Z)(this,e),this.books=[],this.booksTotalCount=null,this.isFetching=!1,this.searchParameters={keyWord:"ReactJS",category:"",sorting:"newest"},this.currentPage=0,(0,c.ky)(this)}return(0,i.Z)(e,[{key:"setSearchParameters",value:function(e){this.searchParameters=e}},{key:"getBooks",value:function(){var e=(0,s.Z)((0,n.Z)().mark((function e(r){var t,o,s,a,i,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isFetching=!0,t=r.keyWord,o=r.category,s=r.sorting,a=r.currentPage,e.next=4,h(t,o,s,a);case 4:"string"!==typeof(i=e.sent)&&(this.books=null===i||void 0===i||null===(c=i.items)||void 0===c?void 0:c.map((function(e){return e.volumeInfo})),this.booksTotalCount=i.totalItems,this.currentPage=0),this.isFetching=!1;case 7:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"loadMoreBooks",value:function(){var e=(0,s.Z)((0,n.Z)().mark((function e(r){var t,s,a,i,c,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isFetching=!0,t=r.keyWord,s=r.category,a=r.sorting,i=r.currentPage,e.next=4,h(t,s,a,i);case 4:"string"!==typeof(c=e.sent)&&((l=this.books).push.apply(l,(0,o.Z)(c.items.map((function(e){return e.volumeInfo})))),this.currentPage=this.currentPage+1),this.isFetching=!1;case 7:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()}]),e}(),v=new p},381:function(e,r,t){t.d(r,{Z:function(){return k}});var o=t(413),n="SearchForm_searchInputGroup__B2jvX",s="SearchForm_searchInput__Ih5Nx",a="SearchForm_searchLoupButton__cVfA2",i="SearchForm_searchParametersGroup__c77ZS",c="SearchForm_searchParameter__LN1AW",l="SearchForm_select__4HhVg",u=t(887),h=t(672),d=t(951),p=t(184),v=(0,h.Pi)((function(){var e=(0,u.cI)(),r=e.register,t=e.handleSubmit;return(0,p.jsxs)("form",{onSubmit:t((function(e){d.Z.getBooks((0,o.Z)((0,o.Z)({},e),{},{currentPage:0})),d.Z.setSearchParameters(e)})),children:[(0,p.jsxs)("div",{className:n,children:[(0,p.jsx)("input",(0,o.Z)({className:s,placeholder:"Type key word for search",type:"text",defaultValue:""},r("keyWord"))),(0,p.jsx)("button",{className:a,type:"submit",children:"\ud83d\udd0e"})]}),(0,p.jsxs)("div",{className:i,children:[(0,p.jsxs)("label",{className:c,children:["Categories",(0,p.jsxs)("select",(0,o.Z)((0,o.Z)({className:l,defaultValue:"all"},r("category")),{},{children:[(0,p.jsx)("option",{value:"all",children:"All"}),(0,p.jsx)("option",{value:"art",children:"Art"}),(0,p.jsx)("option",{value:"biography",children:"Biography"}),(0,p.jsx)("option",{value:"computers",children:"Computers"}),(0,p.jsx)("option",{value:"history",children:"History"}),(0,p.jsx)("option",{value:"medical",children:"Medical"}),(0,p.jsx)("option",{value:"poetry",children:"Poetry"})]}))]}),(0,p.jsxs)("label",{className:c,children:["Sorting by",(0,p.jsxs)("select",(0,o.Z)((0,o.Z)({className:l,defaultValue:"relevance"},r("sorting")),{},{children:[(0,p.jsx)("option",{value:"relevance",children:"Relevance"}),(0,p.jsx)("option",{value:"newest",children:"Newest"})]}))]})]})]})})),g="Header_headerWrapper__yti57",m="Header_headerTitle__wOZqU",k=function(){return(0,p.jsxs)("div",{className:g,children:[(0,p.jsx)("div",{className:m,children:"Search for books"}),(0,p.jsx)(v,{})]})}}}]);
//# sourceMappingURL=104.1ac5a772.chunk.js.map